{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/provider/ThemeProvider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\"\r\n\r\nexport function ThemeProvider({\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof NextThemesProvider>) {\r\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\r\n}"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,cAAc,EAC5B,QAAQ,EACR,GAAG,OAC6C;IAChD,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;KALgB","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///app/src/provider/AuthProvider.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\"\r\n\r\ninterface AuthUser {\r\n  username: string\r\n  email: string\r\n  avatar?: string\r\n  roles: string[]\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: AuthUser | null\r\n  loading: boolean\r\n  login: (user: AuthUser) => void\r\n  logout: () => void\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({\r\n  user: null,\r\n  loading: true,\r\n  login: () => {},\r\n  logout: () => {},\r\n})\r\n\r\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [user, setUser] = useState<AuthUser | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const cached = localStorage.getItem(\"user\")\r\n\r\n    if (cached && cached !== \"undefined\" && cached !== \"null\") {\r\n      try {\r\n        const parsed: AuthUser = JSON.parse(cached)\r\n        parsed.roles = Array.isArray(parsed.roles)\r\n          ? parsed.roles\r\n          : typeof parsed.roles === \"string\"\r\n          ? [parsed.roles]\r\n          : []\r\n        setUser(parsed)\r\n        setLoading(false)\r\n        return\r\n      } catch {\r\n        localStorage.removeItem(\"user\")\r\n      }\r\n    }\r\n\r\n    // ðŸ”¹ fetch à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œà¸ˆà¸²à¸ cookie à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¹„à¸¡à¹ˆà¸¡à¸µ cache\r\n    const fetchProfile = async () => {\r\n      console.log(\"à¹„à¸¡à¹ˆà¸žà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¹‰à¸­à¸‡ fetch\");\r\n      try {\r\n        const res = await fetch(`${process.env.NEXT_PUBLIC_BASE_URL}/api/auth/profile`, {\r\n          credentials: \"include\",\r\n        })\r\n\r\n        if (!res.ok) {\r\n          // à¸­à¸¢à¹ˆà¸² redirect à¸—à¸±à¸™à¸—à¸µ à¸›à¸¥à¹ˆà¸­à¸¢à¹ƒà¸«à¹‰ component à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¸ à¸²à¸¢à¸™à¸­à¸\r\n          console.warn(\"unauthorized or invalid token\", res.status)\r\n          logout()\r\n          return\r\n        }\r\n\r\n        const data = await res.json()\r\n        if (data.success && data.user) {\r\n          setUser(data.user) // à¸•à¹‰à¸­à¸‡à¸¡à¸µà¸šà¸£à¸£à¸—à¸±à¸”à¸™à¸µà¹‰\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user))\r\n        }\r\n      } catch (err) {\r\n        console.error(\"auth error:\", err)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchProfile()\r\n  }, [])\r\n\r\n  const login = (newUser: AuthUser) => {\r\n    const safeUser = {\r\n      ...newUser,\r\n      roles: Array.isArray(newUser.roles)\r\n        ? newUser.roles\r\n        : typeof newUser.roles === \"string\"\r\n        ? [newUser.roles]\r\n        : [],\r\n    }\r\n    setUser(safeUser)\r\n    localStorage.setItem(\"user\", JSON.stringify(safeUser))\r\n  }\r\n\r\n  const logout = () => {\r\n    setUser(null)\r\n    localStorage.removeItem(\"user\")\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n"],"names":[],"mappings":";;;;;;AAkDmC;;AAlDnC;;;;AAgBA,MAAM,4BAAc,IAAA,8KAAa,EAAkB;IACjD,MAAM;IACN,SAAS;IACT,OAAO,KAAO;IACd,QAAQ,KAAO;AACjB;AAEO,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;;IAChF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAkB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,MAAM,SAAS,aAAa,OAAO,CAAC;YAEpC,IAAI,UAAU,WAAW,eAAe,WAAW,QAAQ;gBACzD,IAAI;oBACF,MAAM,SAAmB,KAAK,KAAK,CAAC;oBACpC,OAAO,KAAK,GAAG,MAAM,OAAO,CAAC,OAAO,KAAK,IACrC,OAAO,KAAK,GACZ,OAAO,OAAO,KAAK,KAAK,WACxB;wBAAC,OAAO,KAAK;qBAAC,GACd,EAAE;oBACN,QAAQ;oBACR,WAAW;oBACX;gBACF,EAAE,OAAM;oBACN,aAAa,UAAU,CAAC;gBAC1B;YACF;YAEA,gDAAgD;YAChD,MAAM;uDAAe;oBACnB,QAAQ,GAAG,CAAC;oBACZ,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,iEAAoC,iBAAiB,CAAC,EAAE;4BAC9E,aAAa;wBACf;wBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;4BACX,wDAAwD;4BACxD,QAAQ,IAAI,CAAC,iCAAiC,IAAI,MAAM;4BACxD;4BACA;wBACF;wBAEA,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,IAAI,KAAK,OAAO,IAAI,KAAK,IAAI,EAAE;4BAC7B,QAAQ,KAAK,IAAI,GAAE,kBAAkB;4BACrC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;wBACvD;oBACF,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,eAAe;oBAC/B,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,MAAM,WAAW;YACf,GAAG,OAAO;YACV,OAAO,MAAM,OAAO,CAAC,QAAQ,KAAK,IAC9B,QAAQ,KAAK,GACb,OAAO,QAAQ,KAAK,KAAK,WACzB;gBAAC,QAAQ,KAAK;aAAC,GACf,EAAE;QACR;QACA,QAAQ;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;IAC9C;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAO;QAAO;kBACzD;;;;;;AAGP;GA5Ea;KAAA;AA8EN,MAAM,UAAU;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAW;IAAtC","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///app/src/provider/ToasterProvider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Toaster } from \"react-hot-toast\"\r\n\r\nexport function ToasterProvider() {\r\n  return (\r\n    <Toaster\r\n      position=\"top-center\"\r\n      toastOptions={{\r\n        duration: 1500,\r\n        style: { \r\n          fontWeight: \"bold\", \r\n          fontSize: \"14px\" \r\n        },\r\n      }}\r\n    />\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,qBACE,6LAAC,qKAAO;QACN,UAAS;QACT,cAAc;YACZ,UAAU;YACV,OAAO;gBACL,YAAY;gBACZ,UAAU;YACZ;QACF;;;;;;AAGN;KAbgB","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///app/src/provider/index.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { ThemeProvider } from \"@/provider/ThemeProvider\"\r\nimport { AuthProvider } from \"@/provider/AuthProvider\"\r\nimport { ToasterProvider } from \"@/provider/ToasterProvider\"\r\n\r\nimport { NuqsAdapter } from \"nuqs/adapters/next/app\"\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <NuqsAdapter>\r\n      <ThemeProvider\r\n        attribute=\"class\"\r\n        defaultTheme=\"system\"\r\n        enableSystem\r\n        disableTransitionOnChange\r\n      >\r\n        <AuthProvider>\r\n          {children}\r\n          <ToasterProvider />\r\n        </AuthProvider>\r\n      </ThemeProvider>\r\n    </NuqsAdapter>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,yKAAW;kBACV,cAAA,6LAAC,qJAAa;YACZ,WAAU;YACV,cAAa;YACb,YAAY;YACZ,yBAAyB;sBAEzB,cAAA,6LAAC,mJAAY;;oBACV;kCACD,6LAAC,yJAAe;;;;;;;;;;;;;;;;;;;;;AAK1B;KAhBgB","debugId":null}}]
}